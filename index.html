<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tipos de almacenamiento de datos | Guía educativa</title>
  <meta name="description" content="Guía práctica sobre tipos de almacenamiento de datos con filtros, tarjetas, tabla comparativa, glosario y quiz. Generado dinámicamente con JavaScript puro." />
  <link rel="icon" href="data:,">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { theme: { extend: { container: { center: true, padding: "1rem" } } } };
  </script>
  <style>
    :focus { outline: 3px solid #1d4ed8; outline-offset: 2px; }
    .sr-only { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
  </style>
</head>
<body class="min-h-screen bg-slate-50 text-slate-900">
  <header class="bg-white border-b">
    <div class="container mx-auto py-6">
      <h1 class="text-3xl font-bold">Tipos de almacenamiento de datos</h1>
      <p class="mt-2 text-slate-600">Explora tecnologías, compara características, aprende términos clave y valida tu aprendizaje con un quiz.</p>
      <nav class="mt-4 flex flex-wrap gap-3 text-sm">
        <a href="#filtro" class="underline hover:no-underline">Filtro</a>
        <a href="#tarjetas" class="underline hover:no-underline">Tarjetas</a>
        <a href="#tabla" class="underline hover:no-underline">Tabla comparativa</a>
        <a href="#glosario" class="underline hover:no-underline">Glosario</a>
        <a href="#quiz" class="underline hover:no-underline">Quiz</a>
      </nav>
    </div>
  </header>

  <main class="container mx-auto py-8 space-y-16">
    <!-- Filtro -->
    <section id="filtro" aria-labelledby="filtro-title" class="bg-white p-6 rounded-2xl shadow">
      <h2 id="filtro-title" class="text-2xl font-semibold">Filtra tecnologías</h2>
      <p class="mt-2 text-slate-600">Filtra por tipo y uso y busca por nombre. Las tarjetas y la tabla se actualizan al instante.</p>

      <form class="mt-4 grid gap-4 md:grid-cols-4" onsubmit="event.preventDefault()">
        <label class="block">
          <span class="block text-sm font-medium">Tipo</span>
          <select id="filter-tipo" class="mt-1 w-full rounded border-slate-300" aria-label="Filtrar por tipo">
            <option value="">Todos</option>
          </select>
        </label>

        <label class="block">
          <span class="block text-sm font-medium">Uso</span>
          <select id="filter-uso" class="mt-1 w-full rounded border-slate-300" aria-label="Filtrar por uso">
            <option value="">Todos</option>
          </select>
        </label>

        <label class="block md:col-span-2">
          <span class="block text-sm font-medium">Buscar por nombre</span>
          <input id="filter-texto" class="mt-1 w-full rounded border-slate-300" placeholder="Ej. SSD, NAS, RAM" aria-label="Buscar por nombre">
        </label>

        <div class="flex items-end gap-2">
          <button type="button" id="btn-aplicar" class="px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700">Aplicar</button>
          <button type="button" id="btn-limpiar" class="px-4 py-2 rounded border">Limpiar</button>
        </div>
      </form>
      <p id="no-result" class="hidden mt-3 text-sm text-amber-700">No hay elementos que coincidan con el filtro.</p>
    </section>

    <!-- Tarjetas -->
    <section id="tarjetas" aria-labelledby="tarjetas-title" class="space-y-6">
      <h2 id="tarjetas-title" class="text-2xl font-semibold">Tarjetas de tecnologías</h2>
      <div id="grid-cards" class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3"></div>
    </section>

    <!-- Tabla -->
    <section id="tabla" aria-labelledby="tabla-title" class="bg-white p-6 rounded-2xl shadow">
      <h2 id="tabla-title" class="text-2xl font-semibold">Tabla comparativa</h2>
      <div class="overflow-x-auto mt-4">
        <table class="w-full text-sm">
          <caption class="sr-only">Comparativa de tecnologías de almacenamiento</caption>
          <thead class="bg-slate-100">
            <tr>
              <th class="text-left p-3">Tecnología</th>
              <th class="text-left p-3">Tipo</th>
              <th class="text-left p-3">Uso</th>
              <th class="text-left p-3">Latencia</th>
              <th class="text-left p-3">Rendimiento</th>
              <th class="text-left p-3">Durabilidad</th>
              <th class="text-left p-3">Escalabilidad</th>
              <th class="text-left p-3">Coste</th>
            </tr>
          </thead>
          <tbody id="tabla-body"></tbody>
        </table>
      </div>
    </section>

    <!-- Glosario -->
    <section id="glosario" aria-labelledby="glosario-title" class="bg-white p-6 rounded-2xl shadow">
      <h2 id="glosario-title" class="text-2xl font-semibold">Glosario</h2>
      <dl id="glosario-list" class="mt-4 grid gap-4 md:grid-cols-2"></dl>
    </section>

    <!-- Quiz -->
    <section id="quiz" aria-labelledby="quiz-title" class="bg-white p-6 rounded-2xl shadow">
      <h2 id="quiz-title" class="text-2xl font-semibold">Quiz rápido</h2>
      <p class="mt-2 text-slate-600">Responde y comprueba. No se guardan datos.</p>
      <form id="quiz-form" class="mt-4 space-y-6" onsubmit="event.preventDefault(); evaluarQuiz();"></form>
      <div id="quiz-resultado" class="mt-4 font-medium"></div>
    </section>
  </main>

  <footer class="border-t">
    <div class="container mx-auto py-8 text-sm text-slate-600">
      <p>Contenido educativo. Última actualización <span id="fecha"></span>.</p>
    </div>
  </footer>

  <script>
    // ---------- Datos ----------
    window.items = [
      { nombre: "RAM", tipo: "memoria", uso: "latencia-baja", ejemplos: ["DDR4", "DDR5"], latencia: "Nanosegundos", rendimiento: "Muy alto", durabilidad: "Volátil", escalabilidad: "Limitada por placa base", coste: "Alto", desc: "Memoria volátil usada para procesamiento inmediato." },
      { nombre: "SSD NVMe", tipo: "bloques", uso: "rendimiento", ejemplos: ["Samsung 980 Pro", "WD Black"], latencia: "Decenas de µs", rendimiento: "Alto", durabilidad: "Buena (ciclos de escritura limitados)", escalabilidad: "Alta en servidores", coste: "Medio-Alto", desc: "Disco sólido conectado por PCIe, gran velocidad." },
      { nombre: "HDD", tipo: "bloques", uso: "capacidad", ejemplos: ["Seagate IronWolf", "WD Blue"], latencia: "Milisegundos", rendimiento: "Medio", durabilidad: "Media (partes mecánicas)", escalabilidad: "Alta en cabinas", coste: "Bajo", desc: "Disco magnético barato y de gran capacidad." },
      { nombre: "NAS", tipo: "archivos", uso: "disponibilidad", ejemplos: ["Synology", "QNAP"], latencia: "Dependiente de red", rendimiento: "Medio", durabilidad: "Alta con RAID", escalabilidad: "Moderada", coste: "Medio", desc: "Almacenamiento de archivos expuesto por red." },
      { nombre: "SAN", tipo: "bloques", uso: "rendimiento", ejemplos: ["Dell EMC PowerMax", "HPE 3PAR"], latencia: "Baja", rendimiento: "Alto", durabilidad: "Alta con redundancia", escalabilidad: "Alta", coste: "Alto", desc: "Red de bloques para bases de datos críticas." },
      { nombre: "Objeto en nube", tipo: "objetos", uso: "archivado", ejemplos: ["AWS S3", "Azure Blob"], latencia: "Decenas de ms", rendimiento: "Variable", durabilidad: "Muy alta (11 nueves)", escalabilidad: "Masiva", coste: "Bajo a medio", desc: "Almacenamiento de objetos con APIs HTTP." },
      { nombre: "Bloque en nube", tipo: "bloques", uso: "rendimiento", ejemplos: ["AWS EBS", "Azure Managed Disks"], latencia: "Baja", rendimiento: "Alto", durabilidad: "Alta", escalabilidad: "Flexible por volumen", coste: "Medio", desc: "Volúmenes de bloques en la nube montados en VM." },
      { nombre: "BD relacional", tipo: "bases", uso: "transaccional", ejemplos: ["PostgreSQL", "MySQL"], latencia: "Depende del motor y disco", rendimiento: "Alto para consultas ACID", durabilidad: "Alta", escalabilidad: "Vertical buena, horizontal compleja", coste: "Variable", desc: "Base de datos estructurada con transacciones ACID." },
      { nombre: "NoSQL clave-valor", tipo: "bases", uso: "rendimiento", ejemplos: ["Redis", "DynamoDB"], latencia: "Muy baja", rendimiento: "Muy alto", durabilidad: "Variable según configuración", escalabilidad: "Horizontal excelente", coste: "Variable", desc: "Almacenamiento rápido de pares clave-valor." },
      { nombre: "Cinta / Archivado", tipo: "backup", uso: "respaldo", ejemplos: ["LTO-8", "IBM TS1160"], latencia: "Muy alta (minutos)", rendimiento: "Bajo", durabilidad: "Muy alta si se conserva bien", escalabilidad: "Masiva en librerías", coste: "Muy bajo", desc: "Soporte físico barato para archivado de largo plazo." }
    ];

    const glosario = [
      { termino: "Latencia", definicion: "Tiempo de respuesta de una operación de almacenamiento." },
      { termino: "IOPS", definicion: "Número de operaciones de entrada/salida por segundo." },
      { termino: "ACID", definicion: "Propiedades de atomicidad, consistencia, aislamiento y durabilidad en bases de datos." },
      { termino: "RAID", definicion: "Conjunto de técnicas de redundancia y distribución de discos para rendimiento y tolerancia a fallos." },
      { termino: "CAP", definicion: "Teorema que establece el trade-off entre consistencia, disponibilidad y tolerancia a particiones." },
      { termino: "Consistencia eventual", definicion: "Modelo donde las réplicas convergen con el tiempo, sin garantía inmediata." },
      { termino: "Durabilidad", definicion: "Capacidad de los datos de sobrevivir a fallos." },
      { termino: "Escalabilidad horizontal", definicion: "Capacidad de crecer añadiendo más nodos en paralelo." }
    ];

    const preguntas = [
      { enunciado: "¿Qué medio es más adecuado para archivado de muy bajo coste?", opciones: ["RAM", "SSD NVMe", "Cinta"], correcta: "Cinta" },
      { enunciado: "¿Cuál de estas tecnologías sigue el modelo ACID por defecto?", opciones: ["BD relacional", "NoSQL clave-valor", "Objeto en nube"], correcta: "BD relacional" },
      { enunciado: "¿Qué sistema se usa típicamente para exponer almacenamiento por archivos en red?", opciones: ["NAS", "SAN", "Bloque en nube"], correcta: "NAS" }
    ];

    // ---------- Helpers ----------
    const $ = s => document.querySelector(s);
    const $$ = s => Array.from(document.querySelectorAll(s));
    const humanize = s => String(s).replace(/-/g, " ").replace(/\b\w/g, m => m.toUpperCase());

    // ---------- Render tarjetas ----------
    function renderCards(list) {
      const container = $("#grid-cards");
      if (!container) return;
      container.innerHTML = "";
      list.forEach(i => {
        const el = document.createElement("article");
        el.className = "bg-white p-5 rounded-2xl shadow border";
        el.setAttribute("data-tipo", i.tipo);
        el.setAttribute("data-uso", i.uso);
        el.innerHTML = `
          <h3 class="text-xl font-semibold">${i.nombre}</h3>
          <p class="mt-2 text-sm text-slate-600">${i.desc || ""}</p>
          <ul class="mt-3 text-sm list-disc pl-5">
            <li><span class="font-medium">Tipo:</span> ${humanize(i.tipo)}</li>
            <li><span class="font-medium">Uso:</span> ${humanize(i.uso)}</li>
            <li><span class="font-medium">Ejemplos:</span> ${(i.ejemplos || []).join(", ")}</li>
            <li><span class="font-medium">Latencia:</span> ${i.latencia || "-"}</li>
            <li><span class="font-medium">Rendimiento:</span> ${i.rendimiento || "-"}</li>
            <li><span class="font-medium">Durabilidad:</span> ${i.durabilidad || "-"}</li>
            <li><span class="font-medium">Escalabilidad:</span> ${i.escalabilidad || "-"}</li>
            <li><span class="font-medium">Coste:</span> ${i.coste || "-"}</li>
          </ul>
        `;
        container.appendChild(el);
      });
    }

    // ---------- Render tabla ----------
    function renderTabla(list) {
      const tbody = $("#tabla-body");
      if (!tbody) return;
      tbody.innerHTML = "";
      list.forEach(i => {
        const tr = document.createElement("tr");
        tr.className = "border-t";
        tr.innerHTML = `
          <td class="p-3">${i.nombre}</td>
          <td class="p-3">${humanize(i.tipo)}</td>
          <td class="p-3">${humanize(i.uso)}</td>
          <td class="p-3">${i.latencia || "-"}</td>
          <td class="p-3">${i.rendimiento || "-"}</td>
          <td class="p-3">${i.durabilidad || "-"}</td>
          <td class="p-3">${i.escalabilidad || "-"}</td>
          <td class="p-3">${i.coste || "-"}</td>
        `;
        tbody.appendChild(tr);
      });
    }

    // ---------- Render glosario ----------
    function renderGlosario() {
      const dl = $("#glosario-list");
      if (!dl) return;
      dl.innerHTML = "";
      glosario.forEach(g => {
        const wrap = document.createElement("div");
        wrap.innerHTML = `
          <dt class="font-medium">${g.termino}</dt>
          <dd class="text-sm text-slate-600">${g.definicion}</dd>
        `;
        dl.appendChild(wrap);
      });
    }

    // ---------- Render quiz ----------
    function renderQuiz() {
      const form = $("#quiz-form");
      if (!form) return;
      form.innerHTML = "";
      preguntas.forEach((p, idx) => {
        const field = document.createElement("fieldset");
        field.className = "space-y-2";
        const name = "q" + (idx + 1);
        field.innerHTML = `<legend class="font-medium">${idx + 1}. ${p.enunciado}</legend>`;
        p.opciones.forEach(op => {
          const id = `${name}-${op}`.replace(/\s+/g, "_");
          const label = document.createElement("label");
          label.className = "flex items-center gap-2";
          label.innerHTML = `<input type="radio" id="${id}" name="${name}" value="${op}"> <span>${op}</span>`;
          field.appendChild(label);
        });
        form.appendChild(field);
      });
      const btn = document.createElement("button");
      btn.type = "submit";
      btn.className = "px-4 py-2 rounded bg-green-600 text-white hover:bg-green-700";
      btn.textContent = "Comprobar";
      form.appendChild(btn);
    }
    function evaluarQuiz() {
      let aciertos = 0;
      preguntas.forEach((p, idx) => {
        const name = "q" + (idx + 1);
        const elegido = document.querySelector(`input[name="${name}"]:checked`);
        if (elegido && elegido.value === p.correcta) aciertos++;
      });
      const out = $("#quiz-resultado");
      if (!out) return;
      out.textContent = `Has acertado ${aciertos} de ${preguntas.length}.`;
      out.className = "mt-4 font-medium " + (aciertos === preguntas.length ? "text-green-700" : "text-amber-700");
    }

    // ---------- Aplicar filtros: texto + tipo + uso ----------
    function applyFilter() {
      const tipo = ($("#filter-tipo")?.value || "").trim();
      const uso = ($("#filter-uso")?.value || "").trim();
      const texto = ($("#filter-texto")?.value || "").trim().toLowerCase();

      const data = Array.isArray(window.items) ? window.items : [];
      const filtrados = data.filter(i => {
        const okTipo = !tipo || i.tipo === tipo;
        const okUso = !uso || i.uso === uso;
        const okTexto = !texto || i.nombre.toLowerCase().includes(texto);
        return okTipo && okUso && okTexto;
      });

      $("#no-result")?.classList.toggle("hidden", filtrados.length !== 0);
      renderCards(filtrados);
      renderTabla(filtrados);
    }

    // ---------- Inicialización ----------
    document.addEventListener("DOMContentLoaded", () => {
      const data = Array.isArray(window.items) ? window.items : [];

      // Poblar selects desde los datos
      const tipos = Array.from(new Set(data.map(i => i.tipo))).sort();
      const usos  = Array.from(new Set(data.map(i => i.uso))).sort();

      const tipoSel = $("#filter-tipo");
      const usoSel  = $("#filter-uso");

      if (tipoSel) tipos.forEach(t => {
        const opt = document.createElement("option");
        opt.value = t; opt.textContent = humanize(t);
        tipoSel.appendChild(opt);
      });
      if (usoSel) usos.forEach(u => {
        const opt = document.createElement("option");
        opt.value = u; opt.textContent = humanize(u);
        usoSel.appendChild(opt);
      });

      // Eventos
      $("#btn-aplicar")?.addEventListener("click", applyFilter);
      $("#btn-limpiar")?.addEventListener("click", () => {
        if (tipoSel) tipoSel.value = "";
        if (usoSel) usoSel.value = "";
        const text = $("#filter-texto"); if (text) text.value = "";
        applyFilter();
      });

      // Pintado inicial
      renderCards(data);
      renderTabla(data);
      renderGlosario();
      renderQuiz();
      $("#no-result")?.classList.add("hidden");
      const fecha = $("#fecha"); if (fecha) fecha.textContent = new Date().toISOString().split("T")[0];
    });
  </script>
</body>
</html>
